import{c as p,j as e,x as c,z as v,r as l,d as C,N as S,C as d,a as n,aq as E,g as x,B as M,h as m,F as R,f as u}from"./index-Byed96i3.js";import{A as D,a as L,b as I}from"./avatar-CHwpYPd3.js";import{S as P}from"./shield-BbPwZ_e1.js";import"./index-4beppOMx.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],$=p("bell",U);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],f=p("calendar",q);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],F=p("circle-alert",B),V=v("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function z({className:s,variant:t,...r}){return e.jsx("div",{className:c(V({variant:t}),s),...r})}const T=v("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),j=l.forwardRef(({className:s,variant:t,...r},o)=>e.jsx("div",{ref:o,role:"alert",className:c(T({variant:t}),s),...r}));j.displayName="Alert";const N=l.forwardRef(({className:s,...t},r)=>e.jsx("h5",{ref:r,className:c("mb-1 font-medium leading-none tracking-tight",s),...t}));N.displayName="AlertTitle";const y=l.forwardRef(({className:s,...t},r)=>e.jsx("div",{ref:r,className:c("text-sm [&_p]:leading-relaxed",s),...t}));y.displayName="AlertDescription";const J=()=>{const{user:s,role:t}=C(),[r,o]=l.useState([]),[h,w]=l.useState([]),[k,g]=l.useState(!1),[b,_]=l.useState(null);l.useEffect(()=>{(async()=>{if(s)try{const i=await u.getProgress();o(i??[])}catch(i){console.error("Error loading progress:",i)}})()},[s]),l.useEffect(()=>{(async()=>{if(!(t!=="root"&&t!=="admin"))try{g(!0);const i=await u.listNotifications();w(i??[])}catch(i){console.error("Error loading notifications:",i),_("Failed to load administrative notifications.")}finally{g(!1)}})()},[t]);const A=a=>a.slice(0,2).toUpperCase();return e.jsxs("div",{className:"min-h-screen relative bg-[#0a0f1d]",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-500/5 via-transparent to-purple-500/5 pointer-events-none"}),e.jsx(S,{}),e.jsxs("div",{className:"pt-32 pb-20 px-6 max-w-4xl mx-auto relative z-10",children:[b&&e.jsxs(j,{variant:"destructive",className:"mb-6 bg-red-900/20 border-red-900/50 text-red-200",children:[e.jsx(F,{className:"h-4 w-4"}),e.jsx(N,{children:"Error"}),e.jsx(y,{children:b})]}),e.jsxs(d,{className:"bg-slate-900/60 border-slate-800 backdrop-blur-md mb-8 overflow-hidden",children:[e.jsx("div",{className:"h-32 bg-gradient-to-r from-blue-600/20 via-purple-600/20 to-blue-600/20 relative",children:e.jsx("div",{className:"absolute inset-0 opacity-30 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')]"})}),e.jsx(n,{className:"p-8 -mt-16 relative",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-end gap-6",children:[e.jsxs(D,{className:"h-32 w-32 border-4 border-[#0a0f1d] shadow-2xl",children:[e.jsx(L,{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${(s==null?void 0:s.name)||"User"}`}),e.jsx(I,{className:"bg-slate-800 text-3xl font-bold text-blue-400",children:s!=null&&s.name?A(s.name):e.jsx(E,{className:"h-12 w-12"})})]}),e.jsxs("div",{className:"flex-1 text-center md:text-left pb-2",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 md:gap-4",children:[e.jsx("h1",{className:"text-4xl font-bold text-white tracking-tight",children:(s==null?void 0:s.name)||"Quantum Explorer"}),e.jsx(z,{className:`w-fit mx-auto md:mx-0 ${t==="root"?"bg-blue-500 hover:bg-blue-600":"bg-slate-700"}`,children:(t==null?void 0:t.toUpperCase())||"USER"})]}),e.jsxs("p",{className:"text-slate-400 mt-1 flex items-center justify-center md:justify-start gap-2",children:[e.jsx(P,{className:"h-3.5 w-3.5"}),s==null?void 0:s.email]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"md:col-span-2 space-y-8",children:[e.jsxs(d,{className:"bg-slate-900/60 border-slate-800 backdrop-blur-md",children:[e.jsxs(x,{className:"flex flex-row items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10 text-blue-400",children:e.jsx(M,{className:"h-5 w-5"})}),e.jsx(m,{className:"text-xl text-white",children:"Learning Progress"})]}),e.jsx(n,{children:r.length===0?e.jsx("div",{className:"text-slate-500 py-4 text-center border-2 border-dashed border-slate-800 rounded-xl",children:"No pages marked as read yet. Start your journey in the Learn section!"}):e.jsx("div",{className:"space-y-3",children:r.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-slate-800/30 border border-slate-700/50 hover:bg-slate-800/50 transition-colors group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-500 shadow-[0_0_8px_rgba(59,130,246,0.5)]"}),e.jsx("span",{className:"text-slate-200 font-medium capitalize",children:a.page_key.replace(/-/g," ")})]}),e.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(f,{className:"h-3 w-3"}),new Date(a.read_at).toLocaleDateString()]})]},a.page_key))})})]}),t==="root"&&e.jsxs(d,{className:"bg-slate-900/60 border-slate-800 backdrop-blur-md",children:[e.jsxs(x,{className:"flex flex-row items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-purple-500/10 text-purple-400",children:e.jsx($,{className:"h-5 w-5"})}),e.jsx(m,{className:"text-xl text-white",children:"Notify Me Requests"})]}),e.jsx(n,{children:k?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-500"})}):h.length===0?e.jsx("div",{className:"text-slate-500 py-4 text-center border-2 border-dashed border-slate-800 rounded-xl",children:"No requests yet."}):e.jsx("div",{className:"space-y-4",children:h.map(a=>e.jsxs("div",{className:"p-4 rounded-xl bg-slate-950/40 border border-slate-800/50 flex flex-col gap-2",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"text-purple-400 font-bold text-sm tracking-tight",children:a.email}),e.jsxs("span",{className:"text-[10px] text-slate-600 font-mono",children:["ID: ",a.id]})]}),e.jsxs("p",{className:"text-slate-300 text-sm italic",children:['"',a.message,'"']}),a.created_at&&e.jsxs("div",{className:"text-[10px] text-slate-500 mt-2 flex items-center gap-1",children:[e.jsx(f,{className:"h-3 w-3"}),new Date(a.created_at).toLocaleString()]})]},a.id))})})]})]}),e.jsx("div",{className:"space-y-8",children:e.jsxs(d,{className:"bg-slate-900/60 border-slate-800 backdrop-blur-md",children:[e.jsx(x,{children:e.jsx(m,{className:"text-sm uppercase tracking-widest text-slate-500",children:"Account Stats"})}),e.jsxs(n,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-800",children:[e.jsx("span",{className:"text-slate-400 text-sm",children:"Completed Modules"}),e.jsx("span",{className:"text-white font-bold",children:r.length})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-800",children:[e.jsx("span",{className:"text-slate-400 text-sm",children:"Community Rank"}),e.jsx("span",{className:"text-blue-400 font-bold",children:"Initiate"})]}),e.jsxs("div",{className:"pt-2",children:[e.jsx("div",{className:"w-full bg-slate-800 h-1.5 rounded-full overflow-hidden",children:e.jsx("div",{className:"bg-blue-500 h-full rounded-full shadow-[0_0_10px_rgba(59,130,246,0.5)]",style:{width:`${Math.min(r.length*10,100)}%`}})}),e.jsx("p",{className:"text-[10px] text-slate-600 mt-2 uppercase font-bold tracking-tighter text-right",children:"Progress to next rank"})]})]})]})})]})]}),e.jsx(R,{})]})};export{J as default};
